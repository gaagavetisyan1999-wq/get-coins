if(!username){
      // simple inline feedback
      const inp = document.getElementById('username');
      inp.focus();
      // tiny shake
      inp.style.borderColor = '#ff2d55';
      setTimeout(()=>{ inp.style.borderColor = ''; },800);
      return;
    }
    if(!selectedValue){
      // highlight grid
      grid.style.border = '1px solid #ffb3c4';
      setTimeout(()=> grid.style.border = '', 800);
      return;
    }
    // show success modal with username
    successText.textContent = 'âœ… Payment Successful!';
    successSub.textContent = Coins have been sent to ${username}.;
    showModal(successModal,true);
    // (In real app: call payment API and update backend)
  });

  document.getElementById('successClose').addEventListener('click', ()=>{ showModal(successModal,false) });

  // modal helper
  function showModal(el, show){
    if(show){
      el.classList.add('show');
      el.setAttribute('aria-hidden','false');
    } else {
      el.classList.remove('show');
      el.setAttribute('aria-hidden','true');
    }
  }

  // init
  renderGrid();

  // keyboard: close modal on ESC
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape'){ showModal(customModal,false); showModal(successModal,false); }
  });
</script>
</body>
</html>
